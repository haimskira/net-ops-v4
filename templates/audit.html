<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <title>Audit Logs | Inventory Pro</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/theme.css') }}">
    <script src="{{ url_for('static', filename='js/theme.js') }}"></script>
    <style>
        @font-face {
            font-family: 'Assistant';
            src: url("{{ url_for('static', filename='fonts/Assistant-Regular.ttf') }}") format('truetype');
            font-weight: 400;
        }

        body {
            font-family: 'Assistant', sans-serif;
            background-color: var(--color-slate-950);
            color: var(--color-slate-100);
            padding: 20px;
            margin: 0;
            transition: background-color 0.3s ease, color 0.3s ease;
        }



        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
        }

        .light-mode .glass-panel {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .table-container {
            max-height: calc(100vh - 150px);
            overflow-y: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            text-align: right;
        }

        thead th {
            position: sticky;
            top: 0;
            background: var(--color-slate-800);
            padding: 15px;
            color: var(--color-slate-400);
            font-size: 12px;
            border-bottom: 2px solid var(--color-slate-700);
            z-index: 10;
        }

        .light-mode thead th {
            background: var(--color-slate-100);
            color: var(--color-slate-600);
            border-bottom: 2px solid var(--color-slate-200);
        }

        tbody tr {
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: background 0.2s;
        }

        .light-mode tbody tr {
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        tbody tr:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        .light-mode tbody tr:hover {
            background: rgba(0, 0, 0, 0.02);
        }

        td {
            padding: 12px 15px;
            font-size: 13px;
            color: var(--color-slate-300);
        }

        .light-mode td {
            color: var(--color-slate-700);
        }

        .timestamp {
            color: #6366f1;
            font-family: monospace;
            font-size: 12px;
        }

        .user-tag {
            background: var(--color-slate-700);
            padding: 2px 8px;
            border-radius: 6px;
            font-weight: bold;
            color: var(--color-slate-200);
        }

        .light-mode .user-tag {
            background: var(--color-slate-200);
            color: var(--color-slate-800);
        }

        .action-badge {
            padding: 4px 10px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: bold;
            background: rgba(99, 102, 241, 0.1);
            color: #818cf8;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        .light-mode .action-badge {
            color: #6366f1;
            border-color: rgba(99, 102, 241, 0.3);
        }

        /* Custom Scrollbar */
        .table-container::-webkit-scrollbar {
            width: 8px;
        }

        .table-container::-webkit-scrollbar-thumb {
            background: var(--color-slate-700);
            border-radius: 4px;
        }

        .light-mode .table-container::-webkit-scrollbar-thumb {
            background: var(--color-slate-300);
        }
    </style>
</head>

<body>

    <div class="mb-6 flex justify-between items-center"
        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
        <div>
            <h1 class="text-indigo-400 font-bold text-2xl m-0 light-mode:text-indigo-600">×™×•××Ÿ ×¤×¢×•×œ×•×ª (Audit Logs)</h1>
            <p class="text-slate-500 text-sm mt-1 light-mode:text-slate-500">××¢×§×‘ ××—×¨ ×©×™× ×•×™×™ ×§×•× ×¤×™×’×•×¨×¦×™×” ×•×¤×¢×•×œ×•×ª ×× ×”×œ
            </p>
        </div>
        <button onclick="window.location.reload()"
            class="bg-slate-700 text-white border-0 py-2 px-5 rounded-xl cursor-pointer hover:bg-slate-600 transition-colors light-mode:bg-slate-200 light-mode:text-slate-700 light-mode:hover:bg-slate-300">×¨×¢× ×Ÿ
            ×œ×•×’×™× ğŸ”„</button>
    </div>

    <div class="glass-panel">
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th style="width: 180px;">×–××Ÿ</th>
                        <th style="width: 120px;">××©×ª××©</th>
                        <th style="width: 150px;">×¤×¢×•×œ×”</th>
                        <th style="width: 150px;">×¡×•×’ ××©××‘</th>
                        <th>×©× ×”××©××‘ / ×¤×¨×˜×™×</th>
                    </tr>
                </thead>
                <tbody>
                    {% for log in logs %}
                    <tr>
                        <td class="timestamp">{{ log.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                        <td><span class="user-tag">{{ log.user }}</span></td>
                        <td><span class="action-badge">{{ log.action }}</span></td>
                        <td class="text-slate-400 light-mode:text-slate-500">{{ log.resource_type }}</td>
                        <td>
                            <div class="font-bold text-slate-100 light-mode:text-slate-800">{{ log.resource_name }}
                            </div>
                            <div class="text-[11px] text-slate-500 mt-1">{{ log.details }}</div>
                        </td>
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="5" style="text-align: center; padding: 40px;" class="text-slate-500">×œ× × ××¦××•
                            ×¤×¢×•×œ×•×ª ×‘×™×•××Ÿ</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

</body>

</html>